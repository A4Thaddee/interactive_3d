!function(e){function n(e){var t=e.changedTouches[0];var n=document.createEvent("MouseEvent");n.initMouseEvent({touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"}[e.type],true,true,window,1,t.screenX,t.screenY,t.clientX,t.clientY,false,false,false,false,0,null);t.target.dispatchEvent(n)}var t={frames:10,cursor:"move",speed:0,entrance:true,preloadImages:true,touchSupport:true,loading:"Loading..",autoPlay:false};e.fn.preload=function(t){e("<div class='images_cache'></div>").hide().appendTo(t);this.each(function(){e("<img/>").attr("src",this).appendTo(".images_cache")})};e.fn.drags=function(t){var n=this;return n.css("cursor",t.cursor).on("mousedown",function(r){var i=e(this).addClass("draggable"),s=r.pageX,o={};i.parents().on("mousemove",function(r){if(e(".draggable").length>0){var i=n.find("img.main-frame").attr("src"),s=i.split("/")[i.split("/").length-1],u=s.split("_")[1].split(".")[0];if(typeof o.x!="undefined"){var a=o.x-r.clientX,f=o.y-r.clientY;if(Math.abs(a)>Math.abs(f)&&a>0){if(u>1){setTimeout(function(){var e=i.split("/")[i.split("/").length-1];var t=i.split("/").slice(0,-1).join("/");var r=t+"/"+e.split("_")[0]+"_"+(parseInt(u)-1)+"."+e.split(".")[1];n.find("img.main-frame").attr("src",r)},t.speed)}else{setTimeout(function(){var e=i.split("/")[i.split("/").length-1];var r=i.split("/").slice(0,-1).join("/");var s=r+"/"+e.split("_")[0]+"_"+parseInt(t.frames)+"."+e.split(".")[1];n.find("img.main-frame").attr("src",s)},t.speed)}}else if(Math.abs(a)>Math.abs(f)&&a<0){if(u<t.frames){setTimeout(function(){var e=i.split("/")[i.split("/").length-1];var t=i.split("/").slice(0,-1).join("/");var r=t+"/"+e.split("_")[0]+"_"+(parseInt(u)+1)+"."+e.split(".")[1];n.find("img.main-frame").attr("src",r)},t.speed)}else{setTimeout(function(){var e=i.split("/")[i.split("/").length-1];var t=i.split("/").slice(0,-1).join("/");var r=t+"/"+e.split("_")[0]+"_"+1+"."+e.split(".")[1];n.find("img.main-frame").attr("src",r)},t.speed)}}}o={x:r.clientX,y:r.clientY}}e(".draggable").on("mouseup",function(){e(this).removeClass("draggable")})});r.preventDefault()}).on("mouseup",function(){e(this).removeClass("draggable")})};e.fn.interactive_3d=function(r){var i=e.extend({},t,r),s=e(this);s.find(" > img").addClass("main-frame");s.drags(i);if(i.entrance==true&&i.autoPlay==false){var o=s.find("img.main-frame").attr("src").split("_")[1].split(".")[0];var u=0,a=100/parseInt(i.frames);function f(){var e=s.find("img.main-frame").attr("src");s.find("img.main-frame").css("opacity",u*a/100);if(o<i.frames){setTimeout(function(){var t=e.split("/")[e.split("/").length-1];var n=e.split("/").slice(0,-1).join("/");var r=n+"/"+t.split("_")[0]+"_"+(parseInt(o)+1)+"."+t.split(".")[1];s.find("img.main-frame").attr("src",r);o=parseInt(o)+1},i.speed)}else{setTimeout(function(){var t=e.split("/")[e.split("/").length-1];var n=e.split("/").slice(0,-1).join("/");var r=n+"/"+t.split("_")[0]+"_"+1+"."+t.split(".")[1];s.find("img.main-frame").attr("src",r);o=1},i.speed)}if(u++<i.frames-1){if(i.autoPlay!=false){setTimeout(f,0)}else{setTimeout(f,u*1.5)}}}if(i.loading==false&&i.autoPlay==false)f()}if(i.touchSupport==true){document.addEventListener("touchstart",n,true);document.addEventListener("touchmove",n,true);document.addEventListener("touchend",n,true);document.addEventListener("touchcancel",n,true)}if(i.preloadImages==true){var l=s.find("img.main-frame").attr("src");arr=[];for(var c=1;c<i.frames+1;c++){var h=l.split("/")[l.split("/").length-1];var p=l.split("/").slice(0,-1).join("/");arr.push(p+"/"+h.split("_")[0]+"_"+c+"."+h.split(".")[1])}e(arr).preload(s);if(i.loading!=false){var d=e(".images_cache > img").not(function(){return this.complete});var v=d.length;s.append("<div class='loading_3d'>"+i.loading+"</div>");s.find(".main-frame").css("visibility","hidden");if(v){d.load(function(){v--;if(!v){s.find(".main-frame").css("visibility","visible");s.find(".loading_3d").remove();if(i.autoPlay==false)f()}})}else{s.find(".main-frame").css("visibility","visible");s.find(".loading_3d").remove();if(i.autoPlay==false)f()}}}if(i.autoPlay!=false){function m(){return window.setInterval(function(){f()},i.autoPlay)}var g=m();s.mouseenter(function(){window.clearInterval(g)}).mouseleave(function(){g=m()})}}}(window.jQuery)